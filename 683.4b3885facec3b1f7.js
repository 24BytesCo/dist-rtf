"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[683],{7683:(M,d,o)=>{o.r(d),o.d(d,{AuthModule:()=>w});var c=o(6895),p=o(9019),e=o(4650),u=o(8185),h=o(1643),f=o(5625),v=o(262),Z=o(4004),b=o(2843),y=o(5226),m=o.n(y),A=o(529);let C=(()=>{class n{constructor(t){this.http=t}login(t,r){return console.log("environment.urlApi",p.N.urlApi),this.http.post(`${p.N.urlApi}autenticacion/login`,{usuario:t,contrasenia:r}).pipe((0,f.X)(0),(0,v.K)(this.handleError),(0,Z.U)(a=>a))}handleError(t){console.error("error ",t.error),console.log("error.error.body",t.error.body);const r=t.error.body;return m().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",m().stopTimer),l.addEventListener("mouseleave",m().resumeTimer)}}).fire(r?{icon:"error",title:r}:{icon:"error",title:"Error de conecci\xf3n con el servidor."}),(0,b._)(t.error)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(A.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=o(433);function T(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Usuario requerido"),e.qZA())}function x(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Contrase\xf1a requerida"),e.qZA())}const U=function(){return{"background-image":"url(https://via.placeholder.com/219x452)"}};let S=(()=>{class n{constructor(t,r,a,l){this.router=t,this.route=r,this.genericService=a,this.serviceLogin=l,this.usuario="",this.contrasena="";var g=localStorage.getItem(p.N.token);g?this.genericService.redireccionarRutaToken("tablero-principal",g):this.router.navigate(["auth/login"])}ngOnInit(){}onLoggedin(){this.usuario?this.contrasena?this.serviceLogin.login(this.usuario.trim(),this.contrasena.trim()).subscribe(t=>{t.body.length>20&&(this.genericService.alertaSuperiorDerechaPequena("Logueo exitoso","success"),localStorage.setItem(p.N.token,t.body),this.genericService.redireccionarRutaToken("tablero-principal",t.body))}):this.genericService.alertaSuperiorDerechaPequena("La contrase\xf1a es requerida","error"):this.genericService.alertaSuperiorDerechaPequena("El usuario es requerido","error")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(h.k),e.Y36(C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:6,consts:[[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pe-md-0"],[1,"auth-side-wrapper",3,"ngStyle"],[1,"col-md-8","ps-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"nobleui-logo","d-block","mb-2"],[1,"text-muted","fw-normal","mb-4"],[1,"forms-sample"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["name","exampleInputPassword2","required","","type","text","placeholder","Usuario",1,"form-control",3,"ngModel","ngModelChange"],["field","ngModel"],["class","text-danger mt-1",4,"ngIf"],["for","exampleInputPassword1",1,"form-label"],["type","password","required","","name","exampleInputPassword1","autocomplete","current-password","placeholder","Contrase\xf1a",1,"form-control",3,"ngModel","ngModelChange"],["fieldContra","ngModel"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"click"],[1,"text-danger","mt-1"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"div",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7)(8,"a",8),e._uU(9,"RTF "),e.TgZ(10,"span"),e._uU(11," Report Technical Failures"),e.qZA()(),e.TgZ(12,"h5",9),e._uU(13,"\xa1Bienvenido de nuevo! Ingrese a su cuenta.."),e.qZA(),e.TgZ(14,"form",10)(15,"div",11)(16,"label",12),e._uU(17,"Usuario"),e.qZA(),e.TgZ(18,"input",13,14),e.NdJ("ngModelChange",function(l){return r.usuario=l}),e.qZA(),e.YNc(20,T,2,0,"p",15),e.qZA(),e.TgZ(21,"div",11)(22,"label",16),e._uU(23,"Contrase\xf1a"),e.qZA(),e.TgZ(24,"input",17,18),e.NdJ("ngModelChange",function(l){return r.contrasena=l}),e.qZA(),e.YNc(26,x,2,0,"p",15),e.qZA(),e.TgZ(27,"div")(28,"button",19),e.NdJ("click",function(){return r.onLoggedin()}),e._uU(29,"Ingresar"),e.qZA()()()()()()()()()),2&t){const a=e.MAs(19),l=e.MAs(25);e.xp6(5),e.Q6J("ngStyle",e.DdM(5,U)),e.xp6(13),e.Q6J("ngModel",r.usuario),e.xp6(2),e.Q6J("ngIf",null==a||null==a.errors?null:a.errors.required),e.xp6(4),e.Q6J("ngModel",r.contrasena),e.xp6(2),e.Q6J("ngIf",null==l||null==l.errors?null:l.errors.required)}},dependencies:[c.O5,c.PC,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,u.yS],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),n})();const L=function(){return{"background-image":"url(https://via.placeholder.com/219x452)"}},I=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},dependencies:[u.lC],encapsulation:2}),n})(),children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:S},{path:"register",component:(()=>{class n{constructor(t){this.router=t}ngOnInit(){}onRegister(t){t.preventDefault(),localStorage.setItem("isLoggedin","true"),localStorage.getItem("isLoggedin")&&this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:39,vars:2,consts:[[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pe-md-0"],[1,"auth-side-wrapper",3,"ngStyle"],[1,"col-md-8","ps-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"nobleui-logo","d-block","mb-2"],[1,"text-muted","fw-normal","mb-4"],[1,"forms-sample"],[1,"mb-3"],["for","exampleInputUsername1",1,"form-label"],["type","text","id","exampleInputUsername1","autocomplete","Username","placeholder","Username",1,"form-control"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Email",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","autocomplete","current-password","placeholder","Password",1,"form-control"],[1,"form-check","mb-3"],["type","checkbox","id","authCheck",1,"form-check-input"],["for","authCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-icon-text","mb-2","mb-md-0"],[1,"feather","icon-twitter","btn-icon-prepend"],["routerLink","/auth/login",1,"d-block","mt-3","text-muted"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"div",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7)(8,"a",8),e._uU(9,"Noble"),e.TgZ(10,"span"),e._uU(11,"UI"),e.qZA()(),e.TgZ(12,"h5",9),e._uU(13,"Create a free account."),e.qZA(),e.TgZ(14,"form",10)(15,"div",11)(16,"label",12),e._uU(17,"Username"),e.qZA(),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"div",11)(20,"label",14),e._uU(21,"Email address"),e.qZA(),e._UZ(22,"input",15),e.qZA(),e.TgZ(23,"div",11)(24,"label",16),e._uU(25,"Password"),e.qZA(),e._UZ(26,"input",17),e.qZA(),e.TgZ(27,"div",18),e._UZ(28,"input",19),e.TgZ(29,"label",20),e._uU(30," Remember me "),e.qZA()(),e.TgZ(31,"div")(32,"button",21),e.NdJ("click",function(l){return r.onRegister(l)}),e._uU(33,"Sign up"),e.qZA(),e.TgZ(34,"button",22),e._UZ(35,"i",23),e._uU(36," Sign up with twitter "),e.qZA()(),e.TgZ(37,"a",24),e._uU(38,"Already a user? Sign in"),e.qZA()()()()()()()()),2&t&&(e.xp6(5),e.Q6J("ngStyle",e.DdM(1,L)))},dependencies:[c.PC,s._Y,s.JL,s.F,u.yS],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),n})()}]}];let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,s.u5,u.Bz.forChild(I)]}),n})()}}]);