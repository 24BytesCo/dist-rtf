"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[712],{712:(Y,_,a)=>{a.r(_),a.d(_,{EquiposModule:()=>D});var h=a(6895),g=a(8185),e=a(4650);const Z=[{path:"",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-equipos"]],decls:2,vars:0,template:function(n,i){1&n&&(e.TgZ(0,"p"),e._uU(1,"equipos works!"),e.qZA())}}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),o})();var T=a(2366),v=a(1643);let E=(()=>{class o{constructor(n){this.genericosService=n,this.genericosService.alertaTimer(""),this.genericosService.listandoEquiposInnerActivos().subscribe(i=>{this.listaEquiposInner=i.body;const r=new T.w("#dataTableExample");for(let t=0;t<this.listaEquiposInner.length;t++){let u=this.listaEquiposInner[t].imagenPrincipal;u||(u="../../../../../assets/images/others/noImagen.png"),console.log("url: "+u),r.rows.add(['<img style="height: 50px; width: auto;" src="'+u+'">',this.listaEquiposInner[t].nombre,this.listaEquiposInner[t].codigo,this.listaEquiposInner[t].tipoEquipo.descripcion,this.listaEquiposInner[t].categoria.descripcion,this.listaEquiposInner[t].equipoPrincipal.nombre?this.listaEquiposInner[t].equipoPrincipal.nombre+" | Cod: "+this.listaEquiposInner[t].equipoPrincipal.codigo:"N/A",""])}this.genericosService.alertaTimerClose("")})}ngOnInit(){}editar(n){console.log("data click",n)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-gestionar"]],decls:32,vars:0,consts:[[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table-responsive",2,"zoom","90%"],["id","dataTableExample",1,"table"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),e._uU(5,"Gestionar Equipos"),e.qZA(),e.TgZ(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"th"),e._uU(11,"Img Principal"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"C\xf3digo"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Tipo Equipo"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Categor\xeda"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Equipo Superior"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Acciones"),e.qZA()()(),e.TgZ(24,"tfoot")(25,"tr"),e._UZ(26,"th")(27,"th")(28,"th")(29,"th")(30,"th")(31,"th"),e.qZA()()()()()()()())}}),o})();var c=a(1844),p=a(433),d=a(8796),f=a(1094);function M(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function b(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function A(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"span",45),e._UZ(1,"img",46),e._uU(2),e.qZA(),e.TgZ(3,"span",47),e.NdJ("click",function(){const r=e.CHM(n);return e.KtG((0,r.clear)(r.item))}),e._uU(4,"\xd7"),e.qZA()}if(2&o){const n=l.item;e.xp6(1),e.Q6J("src",n.imagenPrincipal,e.LSH),e.xp6(1),e.hij(" ",n.nombre,"")}}function N(o,l){if(1&o&&(e._UZ(0,"img",46),e._uU(1)),2&o){const n=l.item;e.Q6J("src",n.imagenPrincipal,e.LSH),e.xp6(1),e.hij(" ",n.codigo+" | "+n.nombre," ")}}function U(o,l){if(1&o&&(e.TgZ(0,"div",48)(1,"p",49),e._uU(2,"Equipo Principal Seleccionado:"),e.qZA(),e.TgZ(3,"ul")(4,"span"),e._uU(5),e.qZA()()()),2&o){const n=e.oxw(2);e.xp6(5),e.Oqu(n.equipo.equipoPrincipal)}}function x(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"div",7)(1,"label",8),e._uU(2,"Equipo Principal (Padre)"),e.qZA(),e.TgZ(3,"ng-select",41),e.NdJ("ngModelChange",function(r){e.CHM(n);const t=e.oxw();return e.KtG(t.equipo.equipoPrincipal=r)}),e.YNc(4,A,5,2,"ng-template",42),e.YNc(5,N,2,2,"ng-template",43),e.qZA(),e.YNc(6,U,6,1,"div",44),e.qZA()}if(2&o){const n=e.oxw();e.xp6(3),e.Q6J("items",n.listaEquiposPrincipalesActivos)("multiple",!1)("hideSelected",!0)("ngModel",n.equipo.equipoPrincipal),e.xp6(3),e.Q6J("ngIf",n.equipo.equipoPrincipal)}}function J(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function S(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function y(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function I(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function P(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}function Q(o,l){1&o&&(e.TgZ(0,"span",40),e._uU(1," * "),e.qZA())}const w={url:"https://httpbin.org/post",maxFilesize:50,acceptedFiles:"image/*"},R=[{path:"",children:[{path:"",redirectTo:"gestionar",pathMatch:"full"},{path:"gestionar",component:E},{path:"nuevo",component:(()=>{class o{constructor(n){this.genericoServicio=n,this.config={clickable:!0,maxFiles:5,autoReset:null,errorReset:null,cancelReset:null},this.equipo={nombre:"",categoria:"",codigo:"",equipoPrincipal:"",descripcion:"",fechaAdquisionEmpresa:new Date,fechaRegistro:new Date,id:"",imagenArrayUrl:[""],marca:"",modelo:"",noSerie:"",tipoEquipo:""},this.tipoEquipo=null,this.verSeleccionarPadre=!1,this.genericoServicio.listandoCategoriaEquipo().subscribe(i=>{this.listaCategoriaEquipo=i.body}),this.genericoServicio.listandoTiposEquipos().subscribe(i=>{this.listaTipoEquipo=i.body}),this.genericoServicio.listandoEquiposPrincipalesActivos().subscribe(i=>{this.listaEquiposPrincipalesActivos=i.body})}ngOnInit(){}prueba(n){console.log("cambio en tipo",this.equipo.tipoEquipo);var i=this.listaTipoEquipo.filter(r=>r.id===this.equipo.tipoEquipo)[0]?.codigo||null;console.log("tipoEquipoSeleccion",i),this.verSeleccionarPadre="COMP"===i}guardar(){console.log("equipo",this.equipo),this.genericoServicio.alertaTimer("Creando Equipo"),this.genericoServicio.creandoNuevoEquipo(this.equipo).subscribe(n=>{this.equipo={nombre:"",categoria:"",codigo:"",equipoPrincipal:"",descripcion:"",fechaAdquisionEmpresa:new Date,fechaRegistro:new Date,id:"",imagenArrayUrl:[""],marca:"",modelo:"",noSerie:"",tipoEquipo:""},console.log("res guardar",n),n.error||this.genericoServicio.alertaSuperiorDerechaPequena("\xa1Se ha creado el equipo corr\xe9ctavmente!","success")})}onUploadError(n){console.log("onUploadError:",n)}onUploadSuccess(n){console.log("onUploadSuccess:",n)}resetDropzoneUploads(){this.directiveRef&&this.directiveRef.reset()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nuevo"]],viewQuery:function(n,i){if(1&n&&e.Gf(c.uV,5),2&n){let r;e.iGM(r=e.CRH())&&(i.directiveRef=r.first)}},decls:80,vars:23,consts:[["novalidate",""],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"text-center","mt-5"],[1,"card-body"],[1,"col-md-6"],[1,"col-md-12","mb-3"],["for","exampleInputUsername1",1,"form-label"],["class","text-danger mt-1",4,"ngIf"],["type","text","placeholder","Nombre Equipo","name","nombreEquipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["requried","ngModel"],["name","tipoEquipo","bindLabel","descripcion","bindValue","id",3,"items","searchable","ngModel","change","ngModelChange"],["requriedTipo","ngModel"],["class","col-md-12 mb-3",4,"ngIf"],[1,"col-md-12"],[1,"card",2,"width","90% !important"],[1,"dropzone",3,"dropzone","error","success"],[1,"btn","btn-secondary","mt-2","d-block","ms-auto",3,"click"],[1,"mb-3","mt-5"],["for","marcaEquipo",1,"form-label"],["type","text","placeholder","Marca Equipo","name","marcaEquipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["requriedMarca","ngModel"],["type","text","placeholder","No Serie","name","marcaEquipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["requriedSerie","ngModel"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["name","descripcion","placeholder","Descripci\xf3n del Equipo","rows","3","required","",1,"form-control",3,"ngModel","ngModelChange"],["requriedDescripcion","ngModel"],[1,"col-md-4"],["for","modeloEquipo",1,"form-label"],["type","text","placeholder","Modelo Equipo","name","ModeloEquipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["requriedModelo","ngModel"],["for","codigoEquipo",1,"form-label"],["type","text","placeholder","C\xf3digo \xfanico equipo","name","codigoEquipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["requriedCodigo","ngModel"],[1,"form-label"],["name","fechaAdquisionEmpresa","mask","d0/M0/0000","placeholder","dd/mm/yyyy",1,"form-control","mb-4","mb-md-0",3,"ngModel","ngModelChange"],[2,"text-align","center","margin-top","50px"],["type","button",1,"btn","btn-primary",2,"width","200px",3,"click"],[1,"text-danger","mt-1"],["bindLabel","nombre","bindValue","id","name","equipoPrincipal",3,"items","multiple","hideSelected","ngModel","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],["class","mt-2",4,"ngIf"],[1,"ng-value-label"],["width","20px","height","20px",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"mt-2"],[1,"text-muted"]],template:function(n,i){if(1&n&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Registrando Nuevo Equipo"),e.qZA(),e.TgZ(6,"div",5)(7,"div",1)(8,"div",6)(9,"div",1)(10,"div",7)(11,"label",8),e._uU(12,"Nombre Equipo "),e.YNc(13,M,2,0,"span",9),e.qZA(),e.TgZ(14,"input",10,11),e.NdJ("ngModelChange",function(t){return i.equipo.nombre=t}),e.qZA()(),e.TgZ(16,"div",7)(17,"label",8),e._uU(18,"Tipo Equipo "),e.YNc(19,b,2,0,"span",9),e.qZA(),e.TgZ(20,"ng-select",12,13),e.NdJ("change",function(t){return i.prueba(t)})("ngModelChange",function(t){return i.tipoEquipo=t}),e.qZA()(),e.YNc(22,x,7,5,"div",14),e.TgZ(23,"div",7)(24,"label",8),e._uU(25,"Categor\xeda Equipo "),e.YNc(26,J,2,0,"span",9),e.qZA(),e.TgZ(27,"ng-select",12),e.NdJ("change",function(t){return i.prueba(t)})("ngModelChange",function(t){return i.equipo.categoria=t}),e.qZA()()()(),e.TgZ(28,"div",6)(29,"div",1)(30,"div",15)(31,"p",8),e._uU(32,"Subir Im\xe1genes Equipo"),e.qZA()(),e.TgZ(33,"div",15)(34,"div",16)(35,"div",5)(36,"div",17),e.NdJ("error",function(t){return i.onUploadError(t)})("success",function(t){return i.onUploadSuccess(t)}),e.qZA(),e.TgZ(37,"button",18),e.NdJ("click",function(){return i.resetDropzoneUploads()}),e._uU(38,"Reset"),e.qZA()()()()()()(),e.TgZ(39,"div",19)(40,"div",1)(41,"div",6)(42,"label",20),e._uU(43,"Marca "),e.YNc(44,S,2,0,"span",9),e.qZA(),e.TgZ(45,"input",21,22),e.NdJ("ngModelChange",function(t){return i.equipo.marca=t}),e.qZA()(),e.TgZ(47,"div",6)(48,"label",20),e._uU(49,"N\xfamero de Serie "),e.YNc(50,y,2,0,"span",9),e.qZA(),e.TgZ(51,"input",23,24),e.NdJ("ngModelChange",function(t){return i.equipo.noSerie=t}),e.qZA()()()(),e.TgZ(53,"div",25)(54,"label",26),e._uU(55,"Descripci\xf3n "),e.YNc(56,I,2,0,"span",9),e.qZA(),e.TgZ(57,"textarea",27,28),e.NdJ("ngModelChange",function(t){return i.equipo.descripcion=t}),e.qZA()(),e.TgZ(59,"div",25)(60,"div",1)(61,"div",29)(62,"label",30),e._uU(63,"Modelo "),e.YNc(64,P,2,0,"span",9),e.qZA(),e.TgZ(65,"input",31,32),e.NdJ("ngModelChange",function(t){return i.equipo.modelo=t}),e.qZA()(),e.TgZ(67,"div",29)(68,"label",33),e._uU(69,"C\xf3digo"),e.YNc(70,Q,2,0,"span",9),e.qZA(),e.TgZ(71,"input",34,35),e.NdJ("ngModelChange",function(t){return i.equipo.codigo=t}),e.qZA()(),e.TgZ(73,"div",29)(74,"label",36),e._uU(75,"Fecha Aquisici\xf3n Empresa:"),e.qZA(),e.TgZ(76,"input",37),e.NdJ("ngModelChange",function(t){return i.equipo.fechaAdquisionEmpresa=t}),e.qZA()()()(),e.TgZ(77,"div",38)(78,"button",39),e.NdJ("click",function(){return i.guardar()}),e._uU(79,"Crear Equipo"),e.qZA()()()()()()()),2&n){const r=e.MAs(15),t=e.MAs(46),u=e.MAs(52),s=e.MAs(58),m=e.MAs(66),q=e.MAs(72);e.xp6(13),e.Q6J("ngIf",null==r||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngModel",i.equipo.nombre),e.xp6(5),e.Q6J("ngIf",!i.tipoEquipo),e.xp6(1),e.Q6J("items",i.listaTipoEquipo)("searchable",!1)("ngModel",i.tipoEquipo),e.xp6(2),e.Q6J("ngIf",i.verSeleccionarPadre),e.xp6(4),e.Q6J("ngIf",!i.equipo.categoria),e.xp6(1),e.Q6J("items",i.listaCategoriaEquipo)("searchable",!1)("ngModel",i.equipo.categoria),e.xp6(9),e.Q6J("dropzone",i.config),e.xp6(8),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngModel",i.equipo.marca),e.xp6(5),e.Q6J("ngIf",null==u||null==u.errors?null:u.errors.required),e.xp6(1),e.Q6J("ngModel",i.equipo.noSerie),e.xp6(5),e.Q6J("ngIf",null==s||null==s.errors?null:s.errors.required),e.xp6(1),e.Q6J("ngModel",i.equipo.descripcion),e.xp6(7),e.Q6J("ngIf",null==m||null==m.errors?null:m.errors.required),e.xp6(1),e.Q6J("ngModel",i.equipo.modelo),e.xp6(5),e.Q6J("ngIf",null==q||null==q.errors?null:q.errors.required),e.xp6(1),e.Q6J("ngModel",i.equipo.codigo),e.xp6(5),e.Q6J("ngModel",i.equipo.fechaAdquisionEmpresa)}},dependencies:[h.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.On,p.F,d.w9,d.ir,d.mR,c.uV,f.hx]}),o})()}]}];let D=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:c._t,useValue:w}],imports:[h.ez,p.u5,d.A0,C,c.Ti,g.Bz.forChild(R),f.yI.forRoot({validation:!0})]}),o})()}}]);